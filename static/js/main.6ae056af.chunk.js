(this["webpackJsonptinder-for-movies"]=this["webpackJsonptinder-for-movies"]||[]).push([[0],{102:function(e,t,c){"use strict";c.r(t);var n=c(5),a=c.n(n),i=c(47),r=c.n(i),s=(c(56),c(2)),o=c.n(s),u=c(7),m=(c(58),Object(n.createContext)({movies:[],isLoading:!0,error:""})),d=c(4),p=function(e){var t=e.data,c=void 0===t?"":t,a=e.rightAction,i=void 0===a?function(e){return e}:a,r=e.leftAction,s=void 0===r?function(e){return e}:r,o=Object(n.useState)(0),u=Object(d.a)(o,2),m=u[0],p=u[1],j=Object(n.useState)(0),b=Object(d.a)(j,2),f=b[0],l=b[1];return[function(e){p(e.targetTouches[0].clientX)},function(e){l(e.targetTouches[0].clientX)},function(){m-f>180&&s(c),m-f<-180&&i(c)}]},j=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([]),r=Object(d.a)(i,2),s=r[0],m=r[1],p=Object(n.useState)(""),j=Object(d.a)(p,2),b=j[0],f=j[1];return Object(n.useEffect)((function(){!function(){var e=Object(u.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://61b7ea5e64e4a10017d18cff.mockapi.io",e.prev=1,e.next=4,fetch("".concat("https://61b7ea5e64e4a10017d18cff.mockapi.io","/recommendations/"));case 4:if(200===(t=e.sent).status){e.next=7;break}throw new Error(t.statusText);case 7:return e.next=9,t.json();case 9:c=e.sent,m(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),f(e.t0);case 16:a(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}()()}),[]),{movies:s,isLoading:c,error:b}},b=function(){var e=Object(u.a)(o.a.mark((function e(t,c){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://61b7ea5e64e4a10017d18cff.mockapi.io",n={accepted:"accept"===c?"true":"false"},a={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},e.next=5,fetch("".concat("https://61b7ea5e64e4a10017d18cff.mockapi.io","/recommendations/").concat(t,"/").concat(c),a);case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),f=b,l=c(3),h=function(e){var t=e.movie,c=e.accept,n=e.reject,a=p({rightAction:n,data:t.id}),i=Object(d.a)(a,3),r=i[0],s=i[1],o=i[2];return Object(l.jsxs)("div",{className:"movie-frame",onTouchStart:r,onTouchMove:s,onTouchEnd:o,children:[Object(l.jsxs)("div",{className:"movie-data",children:[Object(l.jsx)("span",{children:t.title})," (".concat(t.rating,"/10)")]}),Object(l.jsx)("img",{className:"movie-img",src:t.imageURL,alt:"".concat(t.title," poster")}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsxs)("button",{type:"button",className:"accept",onClick:c,children:[Object(l.jsx)("span",{children:" \u2713 "})," ","Accept"]}),Object(l.jsxs)("button",{type:"button",className:"reject",onClick:n,children:[" ","Reject"," ",Object(l.jsx)("span",{children:"\xd7"})]})]})]})},v=function(){var e=Object(n.useContext)(m),t=e.movies,c=e.isLoading,a=e.error,i=Object(n.useState)(0),r=Object(d.a)(i,2),s=r[0],o=r[1],u=function(){return o(s+1)};return c?Object(l.jsx)("div",{className:"movie-frame no-movies",children:Object(l.jsx)("span",{children:"Loading..."})}):!c&&0===t.length&&a?Object(l.jsx)("div",{className:"movie-frame no-movies",children:Object(l.jsx)("span",{children:a.toString()})}):c||0!==t.length||a?t.length<=s?Object(l.jsx)("div",{className:"movie-frame no-movies",children:Object(l.jsx)("span",{children:"No more movies in your list"})}):Object(l.jsx)(h,{movie:t[s],accept:function(){f(t[s].id,"accept"),u()},reject:function(){f(t[s].id,"reject"),u()}}):Object(l.jsx)("div",{className:"movie-frame no-movies",children:Object(l.jsx)("span",{children:"Nothing to show"})})};!function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();var O=function(){var e=j();return Object(l.jsx)(m.Provider,{value:e,children:Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)("h1",{className:"app-title",children:"Tinder for Movies"}),Object(l.jsx)(v,{})]})})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))},103:function(e,t,c){"use strict";c.r(t);var n=c(9),a=c(36),i=c(20),r=c(6),s=c(37),o=function(e){return s.recommendations.find((function(t){return t.id===e.params.id}))},u=[r.c.get("/recommendations",(function(e,t,c){return t(c.status(200),c.json(s.recommendations))})),r.c.put("/recommendations/:id/accept",(function(e,t,c){return t(c.status(200),c.json(Object(i.a)(Object(i.a)({},o(e)),{},{accepted:!0})))})),r.c.put("/recommendations/:id/reject",(function(e,t,c){return t(c.status(200),c.json(Object(i.a)(Object(i.a)({},o(e)),{},{accepted:!1})))}))],m=a.a.apply(void 0,Object(n.a)(u));t.default=m},37:function(e){e.exports=JSON.parse('{"recommendations":[{"id":"2301abc","imageURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BOTAzODEzNDAzMl5BMl5BanBnXkFtZTgwMDU1MTgzNzE@._V1_SY1000_CR0,0,677,1000_AL_.jpg","title":"Star Wars: Episode VII - The Force Awakens","summary":"Lorem ipsum\u2026.","rating":8.2,"accepted":"false"},{"id":"ab1232c","imageURL":"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQr52xgKbOq-XJuwQEknttmudqatCNYwXUIg3O4k02E6eNZmPXd","title":"Clifford","summary":"Lorem ipsum\u2026.","rating":6.9,"accepted":"true"},{"id":"2221abc","imageURL":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSvJznVehDbSUPihJbSTNwH8Tgnvh4ZDxs0J4hV06wOvHHidHul","title":"Dune","summary":"Lorem ipsum\u2026.","rating":8.2,"accepted":"false"},{"id":"ab00232c","imageURL":"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQZMLWz4PLL32_flgDQHPBnU02dBLRw9RZccKZWJqVgvN6sSPTk","title":"Auf der anderen Seite","summary":"Lorem ipsum\u2026.","rating":6.9,"accepted":"true"},{"id":"2331abc","imageURL":"https://fwcdn.pl/fpo/02/04/720204/7735388.3.jpg","title":"Captain Fantastic","summary":"Lorem ipsum\u2026.","rating":8.2,"accepted":"true"},{"id":"ab1200c","imageURL":"https://m.media-amazon.com/images/I/61sp1GYsdpL._AC_.jpg","title":"The Road","summary":"Lorem ipsum\u2026.","rating":6.9,"accepted":"false"}]}')},56:function(e,t,c){},58:function(e,t,c){}},[[102,1,2]]]);
//# sourceMappingURL=main.6ae056af.chunk.js.map