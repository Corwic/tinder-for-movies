(this["webpackJsonptinder-for-movies"]=this["webpackJsonptinder-for-movies"]||[]).push([[0],{12:function(e,t,c){},13:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(7),r=c.n(s),o=(c(12),c(13),Object(n.createContext)([])),i=c(2),u=c(3),j=c.n(u),l=c(4),d=c(6),b=function(){var e=Object(l.a)(j.a.mark((function e(t,c){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://61b7ea5e64e4a10017d18cff.mockapi.io",n=Object(d.a)(Object(d.a)({},t),{},{accepted:"accept"===c?"true":"false"}),a={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},e.prev=3,e.next=6,fetch("".concat("https://61b7ea5e64e4a10017d18cff.mockapi.io","/recommendations/").concat(t.id,"/").concat(c),a);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("Problem with sending results",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,c){return e.apply(this,arguments)}}(),f=c(0),h=function(e){var t=e.movie,c=e.accept,a=e.reject,s=function(e){var t=e.action,c=e.data,a=Object(n.useState)(0),s=Object(i.a)(a,2),r=s[0],o=s[1],u=Object(n.useState)(0),j=Object(i.a)(u,2),l=j[0],d=j[1];return[function(e){o(e.targetTouches[0].clientX)},function(e){d(e.targetTouches[0].clientX)},function(){r-l<-180&&t(c)}]}({action:a,data:t.id}),r=Object(i.a)(s,3),o=r[0],u=r[1],j=r[2];return Object(f.jsxs)("div",{className:"movie-frame",onTouchStart:o,onTouchMove:u,onTouchEnd:j,children:[Object(f.jsxs)("div",{className:"movie-data",children:[Object(f.jsx)("span",{children:t.title})," (".concat(t.rating,"/10)")]}),Object(f.jsx)("img",{className:"movie-img",src:t.imageURL,alt:"".concat(t.title," poster")}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsxs)("button",{className:"accept",onClick:c,children:[Object(f.jsx)("span",{children:" \u2713 "})," Accept"]}),Object(f.jsxs)("button",{className:"reject",onClick:a,children:[" Reject ",Object(f.jsx)("span",{children:"\xd7"})]})]})]})},p=function(){var e=Object(n.useContext)(o),t=Object(n.useState)(0),c=Object(i.a)(t,2),a=c[0],s=c[1],r=function(){return s(a+1)};return 0===e.length?Object(f.jsx)("div",{className:"movie-frame no-movies",children:Object(f.jsx)("span",{children:"Nothing to show"})}):(null===e||void 0===e?void 0:e.length)>a?Object(f.jsx)(h,{movie:e[a],accept:function(){b(e[a],"accept"),r()},reject:function(){b(e[a],"reject"),r()}}):Object(f.jsx)("div",{className:"movie-frame no-movies",children:Object(f.jsx)("span",{children:"No more movies in your list"})})};var m=function(){var e=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){Object(l.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,fetch("".concat("https://61b7ea5e64e4a10017d18cff.mockapi.io","/recommendations/"));case 4:return t=e.sent,e.next=7,t.status;case 7:if(200===(c=e.sent)){e.next=11;break}return console.log(c),e.abrupt("return");case 11:return e.next=13,t.json();case 13:n=e.sent,a(n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("GET request failed",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))()}),[]),{data:c}}(),t=e.data;return Object(f.jsx)(o.Provider,{value:t,children:Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)("h1",{className:"appTitle",children:"Tinder for Movies"}),Object(f.jsx)(p,{})]})})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root")),v()}},[[16,1,2]]]);
//# sourceMappingURL=main.37c043c0.chunk.js.map